@page
@model DevLiftNew.Pages.IHKQuiz.Frage1Model
@{
    ViewData["Title"] = "Frage 1 - Pseudocode";
}

<h2 class="Frage1">Frage 1 – Csharp Code</h2>

<div class="card p-3 shadow-sm mt-5">
    <p><strong>Aufgabe:</strong> Schreiben Sie einen Csharp Code ein, der prüft, ob eine eingegebene Zahl gerade ist.</p>

    <form method="post">
        <div id="editor-container" style="height: 300px; border: 1px solid #ccc; margin-top: 20px;"></div>


        <input type="hidden" name="UserCode" id="UserCode" />

        <button type="submit" class="btn btn-primary mt-3">Antwort überprüfen</button>
    </form>

    @if (!string.IsNullOrEmpty(Model.Feedback))
    {
        <div class="alert alert-info mt-3">@Model.Feedback</div>
    }
    @if (Model.IsCorrect)
    {
        <a class="btn btn-success mt-3" href="/IHKQuiz/Frage2">Weiter</a>
    }
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.min.js"></script>
<script>
    require.config({ paths: { 'vs': 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs' } });

    require(['vs/editor/editor.main'], function () {
        window.editor = monaco.editor.create(document.getElementById('editor-container'), {
            value: '',
            language: 'csharp', 
            theme: 'vs-light',
            fontSize: 20,
            automaticLayout: true
        });

        const form = document.querySelector('form');
        form.addEventListener('submit', function () {
            document.getElementById('UserCode').value = window.editor.getValue();
        });
    });
</script>

